<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>STUDENT MANAGEMENT SYSTEM</title>
</head>
<body>
    <div  id=navbar>
        <p></p>
    </div>
    <button >
        <a href="dashboard.html">Dashboard</a> 
    </button>
    <h1>STUDENTS DATA</h1>
    <form action="" id="studentsData">
        <input type="text" id="name" placeholder="Enter Your Name">
        <input type="text" id="course" placeholder="Course">
        <input type="number" id="unit" placeholder="Unit">
        <input type="url" id="image" placeholder="Image">
        <input type="text" id="batch" placeholder="Batch">
        <input type="submit">
    </form>
</body>
</html>
<script>
    document.querySelector("form").addEventListener("submit",storeData)

    
    function Student(n,c,u,i,b){
        this.name=n
        this.course=c
        this.unit=u
        this.image=i
        this.batch="Ft-Web "+b
    }


    function storeData(){
        event.preventDefault()
        let form=document.getElementById("studentsData");
        let name=form.name.value
        let course=form.course.value
        let unit=form.unit.value
        let image=form.image.value
        let batch=form.batch.value


        let s1=new Student(name,course,unit,image,batch)

        let data=JSON.parse(localStorage.getItem("students"))||[]
        data.push(s1)
        localStorage.setItem("students",JSON.stringify(data))

        // console.log(s1)
        // console.log(name,course,unit,image,batch)

        window.location.reload()
    }

    function calculate(){
        
        let data=JSON.parse(localStorage.getItem("students"))||[]

        let obj={}
        for(let i=0;i<data.length;i++)
        {
            if(!obj[data[i].batch])
            {
                obj[data[i].batch]=1;
            }
            else
            {
                obj[data[i].batch]++
            }
        }
        console.log(obj);
        
        document.querySelector("#navbar>p").append(JSON.stringify(obj))
    }

    calculate();

    
</script>